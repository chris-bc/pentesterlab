require 'oauth2'

callback = "http://bennettscash.no-ip.org"
app_id = "460913bcfe2e692786c00cecd9ef4358993b9200a54c380a6c261f003892d638"

secret = "c3af6dc7b2fb87edf820df296e81192773b27b8777beb49151021e1ec78df6de"
client = OAuth2::Client.new(app_id, secret, site: "http://authorization-ptl-402e9b14-540bfe3a.libcurl.so/")
puts client.auth_code.authorize_url(redirect_uri: callback)

code = "374037bc6104de34fad90b5e4104c450bb998898badf17de4e3d4b250f6ad49d"
access = client.auth_code.get_token(code, redirect_uri: callback)
access.get("/api/user").parsed

puts access.token

